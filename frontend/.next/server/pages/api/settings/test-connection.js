"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/settings/test-connection";
exports.ids = ["pages/api/settings/test-connection"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsettings%2Ftest-connection&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csettings%5Ctest-connection.ts&middlewareConfigBase64=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsettings%2Ftest-connection&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csettings%5Ctest-connection.ts&middlewareConfigBase64=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/../node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/../node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_settings_test_connection_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\settings\\test-connection.ts */ \"(api)/./pages/api/settings/test-connection.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_settings_test_connection_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_settings_test_connection_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_settings_test_connection_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_settings_test_connection_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/settings/test-connection\",\n        pathname: \"/api/settings/test-connection\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_settings_test_connection_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1yb3V0ZS1sb2FkZXIvaW5kZXguanM/a2luZD1QQUdFU19BUEkmcGFnZT0lMkZhcGklMkZzZXR0aW5ncyUyRnRlc3QtY29ubmVjdGlvbiZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDc2V0dGluZ3MlNUN0ZXN0LWNvbm5lY3Rpb24udHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDdUU7QUFDdkU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1FQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxtRUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8/MGYxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHNldHRpbmdzXFxcXHRlc3QtY29ubmVjdGlvbi50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NldHRpbmdzL3Rlc3QtY29ubmVjdGlvblwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NldHRpbmdzL3Rlc3QtY29ubmVjdGlvblwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsettings%2Ftest-connection&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csettings%5Ctest-connection.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/settings/test-connection.ts":
/*!***********************************************!*\
  !*** ./pages/api/settings/test-connection.ts ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Funkcja do testowania połączenia z BaseLinker API\nconst testBaseLinkerConnection = async (token)=>{\n    try {\n        // Utworzenie parametrów żądania\n        const params = new URLSearchParams();\n        params.append(\"token\", token);\n        params.append(\"method\", \"getStoragesList\"); // Używamy metody, która nie wymaga dodatkowych parametrów\n        // Wykonanie żądania do BaseLinker API\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"https://api.baselinker.com/connector.php\", params, {\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            }\n        });\n        // Sprawdzenie odpowiedzi\n        if (response.data) {\n            if (response.data.error_code) {\n                // Jeśli BaseLinker zwrócił kod błędu\n                const error = response.data;\n                return {\n                    success: false,\n                    message: `Błąd BaseLinker API: ${error.error_message || error.error_code}`\n                };\n            }\n            // Jeśli nie ma błędu, połączenie jest poprawne\n            return {\n                success: true,\n                message: \"Połączenie z BaseLinker API działa poprawnie\"\n            };\n        }\n        return {\n            success: false,\n            message: \"Otrzymano nieprawidłową odpowiedź z BaseLinker API\"\n        };\n    } catch (error) {\n        console.error(\"Błąd podczas testowania połączenia z BaseLinker API:\", error);\n        // Sprawdzenie czy błąd pochodzi z axios\n        if (error.response) {\n            // Serwer odpowiedział kodem błędu\n            return {\n                success: false,\n                message: `Błąd serwera BaseLinker (${error.response.status}): ${error.response.data?.error_message || \"Nieznany błąd\"}`\n            };\n        } else if (error.request) {\n            // Nie otrzymano odpowiedzi\n            return {\n                success: false,\n                message: \"Nie można połączyć się z serwerem BaseLinker. Sprawdź połączenie internetowe.\"\n            };\n        }\n        // Inny błąd\n        return {\n            success: false,\n            message: `Błąd podczas testowania połączenia: ${error.message}`\n        };\n    }\n};\nasync function handler(req, res) {\n    // Zabezpieczenie przed dostępem z zewnątrz - tylko żądania z tej samej domeny\n    const referer = req.headers.referer || \"\";\n    const host = req.headers.host || \"\";\n    if (!referer.includes(host)) {\n        return res.status(403).json({\n            success: false,\n            message: \"Brak dostępu\"\n        });\n    }\n    // Tylko metoda POST jest obsługiwana\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            success: false,\n            message: \"Metoda nie jest obsługiwana\"\n        });\n    }\n    // Odczytanie tokenu z żądania\n    const { token } = req.body;\n    if (!token) {\n        return res.status(400).json({\n            success: false,\n            message: \"Nie podano tokenu API\"\n        });\n    }\n    // Testowanie połączenia\n    const result = await testBaseLinkerConnection(token);\n    if (result.success) {\n        return res.status(200).json(result);\n    } else {\n        return res.status(400).json(result);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc2V0dGluZ3MvdGVzdC1jb25uZWN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzBCO0FBTzFCLG9EQUFvRDtBQUNwRCxNQUFNQywyQkFBMkIsT0FBT0M7SUFDdEMsSUFBSTtRQUNGLGdDQUFnQztRQUNoQyxNQUFNQyxTQUFTLElBQUlDO1FBQ25CRCxPQUFPRSxNQUFNLENBQUMsU0FBU0g7UUFDdkJDLE9BQU9FLE1BQU0sQ0FBQyxVQUFVLG9CQUFvQiwwREFBMEQ7UUFFdEcsc0NBQXNDO1FBQ3RDLE1BQU1DLFdBQVcsTUFBTU4sa0RBQVUsQ0FBQyw0Q0FBNENHLFFBQVE7WUFDcEZLLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1FBQ0Y7UUFFQSx5QkFBeUI7UUFDekIsSUFBSUYsU0FBU0csSUFBSSxFQUFFO1lBQ2pCLElBQUlILFNBQVNHLElBQUksQ0FBQ0MsVUFBVSxFQUFFO2dCQUM1QixxQ0FBcUM7Z0JBQ3JDLE1BQU1DLFFBQVFMLFNBQVNHLElBQUk7Z0JBQzNCLE9BQU87b0JBQ0xHLFNBQVM7b0JBQ1RDLFNBQVMsQ0FBQyxxQkFBcUIsRUFBRUYsTUFBTUcsYUFBYSxJQUFJSCxNQUFNRCxVQUFVLENBQUMsQ0FBQztnQkFDNUU7WUFDRjtZQUVBLCtDQUErQztZQUMvQyxPQUFPO2dCQUNMRSxTQUFTO2dCQUNUQyxTQUFTO1lBQ1g7UUFDRjtRQUVBLE9BQU87WUFDTEQsU0FBUztZQUNUQyxTQUFTO1FBQ1g7SUFDRixFQUFFLE9BQU9GLE9BQVk7UUFDbkJJLFFBQVFKLEtBQUssQ0FBQyx3REFBd0RBO1FBRXRFLHdDQUF3QztRQUN4QyxJQUFJQSxNQUFNTCxRQUFRLEVBQUU7WUFDbEIsa0NBQWtDO1lBQ2xDLE9BQU87Z0JBQ0xNLFNBQVM7Z0JBQ1RDLFNBQVMsQ0FBQyx5QkFBeUIsRUFBRUYsTUFBTUwsUUFBUSxDQUFDVSxNQUFNLENBQUMsR0FBRyxFQUFFTCxNQUFNTCxRQUFRLENBQUNHLElBQUksRUFBRUssaUJBQWlCLGdCQUFnQixDQUFDO1lBQ3pIO1FBQ0YsT0FBTyxJQUFJSCxNQUFNTSxPQUFPLEVBQUU7WUFDeEIsMkJBQTJCO1lBQzNCLE9BQU87Z0JBQ0xMLFNBQVM7Z0JBQ1RDLFNBQVM7WUFDWDtRQUNGO1FBRUEsWUFBWTtRQUNaLE9BQU87WUFDTEQsU0FBUztZQUNUQyxTQUFTLENBQUMsb0NBQW9DLEVBQUVGLE1BQU1FLE9BQU8sQ0FBQyxDQUFDO1FBQ2pFO0lBQ0Y7QUFDRjtBQUVlLGVBQWVLLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzdFLDhFQUE4RTtJQUM5RSxNQUFNQyxVQUFVRixJQUFJWCxPQUFPLENBQUNhLE9BQU8sSUFBSTtJQUN2QyxNQUFNQyxPQUFPSCxJQUFJWCxPQUFPLENBQUNjLElBQUksSUFBSTtJQUVqQyxJQUFJLENBQUNELFFBQVFFLFFBQVEsQ0FBQ0QsT0FBTztRQUMzQixPQUFPRixJQUFJSixNQUFNLENBQUMsS0FBS1EsSUFBSSxDQUFDO1lBQzFCWixTQUFTO1lBQ1RDLFNBQVM7UUFDWDtJQUNGO0lBRUEscUNBQXFDO0lBQ3JDLElBQUlNLElBQUlNLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9MLElBQUlKLE1BQU0sQ0FBQyxLQUFLUSxJQUFJLENBQUM7WUFDMUJaLFNBQVM7WUFDVEMsU0FBUztRQUNYO0lBQ0Y7SUFFQSw4QkFBOEI7SUFDOUIsTUFBTSxFQUFFWCxLQUFLLEVBQUUsR0FBR2lCLElBQUlPLElBQUk7SUFFMUIsSUFBSSxDQUFDeEIsT0FBTztRQUNWLE9BQU9rQixJQUFJSixNQUFNLENBQUMsS0FBS1EsSUFBSSxDQUFDO1lBQzFCWixTQUFTO1lBQ1RDLFNBQVM7UUFDWDtJQUNGO0lBRUEsd0JBQXdCO0lBQ3hCLE1BQU1jLFNBQVMsTUFBTTFCLHlCQUF5QkM7SUFFOUMsSUFBSXlCLE9BQU9mLE9BQU8sRUFBRTtRQUNsQixPQUFPUSxJQUFJSixNQUFNLENBQUMsS0FBS1EsSUFBSSxDQUFDRztJQUM5QixPQUFPO1FBQ0wsT0FBT1AsSUFBSUosTUFBTSxDQUFDLEtBQUtRLElBQUksQ0FBQ0c7SUFDOUI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vcGFnZXMvYXBpL3NldHRpbmdzL3Rlc3QtY29ubmVjdGlvbi50cz8xYzFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuXHJcbmludGVyZmFjZSBCYXNlTGlua2VyRXJyb3Ige1xyXG4gIGVycm9yX2NvZGU/OiBzdHJpbmc7XHJcbiAgZXJyb3JfbWVzc2FnZT86IHN0cmluZztcclxufVxyXG5cclxuLy8gRnVua2NqYSBkbyB0ZXN0b3dhbmlhIHBvxYLEhWN6ZW5pYSB6IEJhc2VMaW5rZXIgQVBJXHJcbmNvbnN0IHRlc3RCYXNlTGlua2VyQ29ubmVjdGlvbiA9IGFzeW5jICh0b2tlbjogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFV0d29yemVuaWUgcGFyYW1ldHLDs3cgxbzEhWRhbmlhXHJcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XHJcbiAgICBwYXJhbXMuYXBwZW5kKCd0b2tlbicsIHRva2VuKTtcclxuICAgIHBhcmFtcy5hcHBlbmQoJ21ldGhvZCcsICdnZXRTdG9yYWdlc0xpc3QnKTsgLy8gVcW8eXdhbXkgbWV0b2R5LCBrdMOzcmEgbmllIHd5bWFnYSBkb2RhdGtvd3ljaCBwYXJhbWV0csOzd1xyXG4gICAgXHJcbiAgICAvLyBXeWtvbmFuaWUgxbzEhWRhbmlhIGRvIEJhc2VMaW5rZXIgQVBJXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHBzOi8vYXBpLmJhc2VsaW5rZXIuY29tL2Nvbm5lY3Rvci5waHAnLCBwYXJhbXMsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gU3ByYXdkemVuaWUgb2Rwb3dpZWR6aVxyXG4gICAgaWYgKHJlc3BvbnNlLmRhdGEpIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JfY29kZSkge1xyXG4gICAgICAgIC8vIEplxZtsaSBCYXNlTGlua2VyIHp3csOzY2nFgiBrb2QgYsWCxJlkdVxyXG4gICAgICAgIGNvbnN0IGVycm9yID0gcmVzcG9uc2UuZGF0YSBhcyBCYXNlTGlua2VyRXJyb3I7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogYELFgsSFZCBCYXNlTGlua2VyIEFQSTogJHtlcnJvci5lcnJvcl9tZXNzYWdlIHx8IGVycm9yLmVycm9yX2NvZGV9YFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIEplxZtsaSBuaWUgbWEgYsWCxJlkdSwgcG/FgsSFY3plbmllIGplc3QgcG9wcmF3bmVcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdQb8WCxIVjemVuaWUgeiBCYXNlTGlua2VyIEFQSSBkemlhxYJhIHBvcHJhd25pZSdcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICdPdHJ6eW1hbm8gbmllcHJhd2lkxYJvd8SFIG9kcG93aWVkxbogeiBCYXNlTGlua2VyIEFQSSdcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcignQsWCxIVkIHBvZGN6YXMgdGVzdG93YW5pYSBwb8WCxIVjemVuaWEgeiBCYXNlTGlua2VyIEFQSTonLCBlcnJvcik7XHJcbiAgICBcclxuICAgIC8vIFNwcmF3ZHplbmllIGN6eSBixYLEhWQgcG9jaG9kemkgeiBheGlvc1xyXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XHJcbiAgICAgIC8vIFNlcndlciBvZHBvd2llZHppYcWCIGtvZGVtIGLFgsSZZHVcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBgQsWCxIVkIHNlcndlcmEgQmFzZUxpbmtlciAoJHtlcnJvci5yZXNwb25zZS5zdGF0dXN9KTogJHtlcnJvci5yZXNwb25zZS5kYXRhPy5lcnJvcl9tZXNzYWdlIHx8ICdOaWV6bmFueSBixYLEhWQnfWBcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkge1xyXG4gICAgICAvLyBOaWUgb3RyenltYW5vIG9kcG93aWVkemlcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiAnTmllIG1vxbxuYSBwb8WCxIVjennEhyBzacSZIHogc2Vyd2VyZW0gQmFzZUxpbmtlci4gU3ByYXdkxbogcG/FgsSFY3plbmllIGludGVybmV0b3dlLidcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSW5ueSBixYLEhWRcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiBgQsWCxIVkIHBvZGN6YXMgdGVzdG93YW5pYSBwb8WCxIVjemVuaWE6ICR7ZXJyb3IubWVzc2FnZX1gXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICAvLyBaYWJlenBpZWN6ZW5pZSBwcnplZCBkb3N0xJlwZW0geiB6ZXduxIV0cnogLSB0eWxrbyDFvMSFZGFuaWEgeiB0ZWogc2FtZWogZG9tZW55XHJcbiAgY29uc3QgcmVmZXJlciA9IHJlcS5oZWFkZXJzLnJlZmVyZXIgfHwgJyc7XHJcbiAgY29uc3QgaG9zdCA9IHJlcS5oZWFkZXJzLmhvc3QgfHwgJyc7XHJcbiAgXHJcbiAgaWYgKCFyZWZlcmVyLmluY2x1ZGVzKGhvc3QpKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICBtZXNzYWdlOiAnQnJhayBkb3N0xJlwdScgXHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgLy8gVHlsa28gbWV0b2RhIFBPU1QgamVzdCBvYnPFgnVnaXdhbmFcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICBtZXNzYWdlOiAnTWV0b2RhIG5pZSBqZXN0IG9ic8WCdWdpd2FuYScgXHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgLy8gT2Rjenl0YW5pZSB0b2tlbnUgeiDFvMSFZGFuaWFcclxuICBjb25zdCB7IHRva2VuIH0gPSByZXEuYm9keTtcclxuICBcclxuICBpZiAoIXRva2VuKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICBtZXNzYWdlOiAnTmllIHBvZGFubyB0b2tlbnUgQVBJJyBcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICAvLyBUZXN0b3dhbmllIHBvxYLEhWN6ZW5pYVxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRlc3RCYXNlTGlua2VyQ29ubmVjdGlvbih0b2tlbik7XHJcbiAgXHJcbiAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHJlc3VsdCk7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJheGlvcyIsInRlc3RCYXNlTGlua2VyQ29ubmVjdGlvbiIsInRva2VuIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJwb3N0IiwiaGVhZGVycyIsImRhdGEiLCJlcnJvcl9jb2RlIiwiZXJyb3IiLCJzdWNjZXNzIiwibWVzc2FnZSIsImVycm9yX21lc3NhZ2UiLCJjb25zb2xlIiwic3RhdHVzIiwicmVxdWVzdCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJyZWZlcmVyIiwiaG9zdCIsImluY2x1ZGVzIiwianNvbiIsIm1ldGhvZCIsImJvZHkiLCJyZXN1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/settings/test-connection.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsettings%2Ftest-connection&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csettings%5Ctest-connection.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();